{
  "jersey_fabric_colour": "{jersey_fabric_colour}",
  "jersey_digit_colour": "{jersey_digit_colour}",
  "allowed_list": "{allowed_list}",
  "additional_descriptions": "{additional_descriptions}",
  "prompt_template": [
    "{additional_descriptions}",
    "",
    "Task: Detect and read {jersey_digit_colour} numbers.",
    "",
    "Ignore any words.",
    "",

    "Step 0: Detect if there any {jersey_digit_colour} numbers.",
    "Step 1: Decide if there is 1 digit or 2 digits.",
    "Step 2: Describe digit strokes. If 1 digit: describe the digit's strokes (straight/curved, loop/no loop). If 2 digits: describe LEFT digit strokes, then RIGHT digit strokes.",
    "Step 3: Map each described digit to 0-9.",
    "Step 4: Choose EXACTLY ONE number from {allowed_list} that matches the digit count and digits.",
    "",

    "Common confusions (be strict):",
    "- 9 vs 3: 9 has a closed loop at top, 3 is open.",
    "- 9 vs 8: 9 has one closed loop at the top with open bottom, 8 has two closed loops.",
    "- 2 vs 1: 1 is mostly a straight vertical stroke, 2 has curves/diagonal.",
    "- 5 vs 3: 5 has at least one straight vertical stroke on the left and only one curve and can look like the letter 'S', 3 has two curves, no vertical strokes and open only on the left.",
    "- 2 vs 3: 2 has only one top curve and a flat base, 3 has two stacked curves open only on the left.",
    "- 1 vs 3: 1 has no curves; 3 is rounded with two curves.",
    "- 2 vs 7: 2 has only one top curve and a flat base, 7 consists only of straight lines.",
    ""
  ],
  "output_format": {
    "number": "integer or null",
    "confidence": "high, medium, low"
    }
  }

